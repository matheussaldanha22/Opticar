<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="./assets/Scripts/sessao.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" defer></script>
    <link rel="icon" type="image/png" href="assets/images/logoOpticar.png">
    <link rel="stylesheet" href="assets/styles/dashAdmin.css">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="./assets/Scripts/graficosAdmin.js" defer></script>
    <script src="./assets/Scripts/backendAdmin.js" defer></script>
</head>
<body>
    <div class="bg"></div>

    <div class="mainContainer">
        <div id="div_menu" class="menu ">
            <div class="nav-burger" onclick="expand()">
                <div id="linha1"></div>
                <div id="linha2"></div>
                <div id="linha3"></div>
            </div>

            <ul id="ul_links" class="nav-links ">

            </ul>
        </div>

        <div class="contentContainer">
            <div class="perfilContainer">
                <div class="perfil">
                    <div class="empresa">
                        <i class='bx bxs-business' undefined></i>
                        <h3 id="empresaNome"></h3>
                    </div>


                    <div class="persona">
                        <i class='bx bxs-user-circle'></i>
                        <div class="usuarioContainer">
                            <h3 id="usuarioNome">Luciano Alves</h3>
                            <h3 class="desktop-email" id="usuarioEmail">
                                luciano@empresa.com</h3>
                        </div>
                        <div>
                            <i class='bx bx-chevron-down'></i>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="painelDash">
            <div class="containerKPI">
                <div class="kpiUso">
                    <div class="tituloKpi">
                        <h2>Fábrica mais crítica:</h2>
                        <span class="txtKpi">
                            <p class="dadoKpi" id="fabricaCritica" style="color: red;">Fábrica 1</p>
                        </span>
                        <h3 id="quantidadeAlertas">13 Alertas em aberto</h3>
                    </div>
                </div>

                <div class="kpiUso">
                    <div class="tituloKpi">
                        <h2>Tempo na resolução dos alertas:</h2>
                        <span class="txtKpi">
                            <p class="dadoKpi" id="nomeFabricaTempo" style="color: red;">Fábrica 1</p>
                        </span>
                        <h3 id="mediaAlerta">50(Min)</h3>
                    </div>
                </div>

                <!-- USO DISCO -->
                <div class="kpiUso">
                    <div class="tituloKpi">
                        <h2>Quantidade Fábricas em estado crítico</h2>
                        <span class="txtKpi">
                            <p class="dadoKpi" id="qtdFabricasCriticas" style="color: red;">13 Fábricas</p>
                        </span>
                        <h3>Clique <a id="fabricas">aqui</a> para ver elas</h3>
                    </div>
                    
                </div>
            </div>

            <div class="modalPredicao">
                <h1>Selecione até 5 fábricas para predição</h1>
                <div class="container">
                    <div class="grade-fabricas" id="grade-fabricas"></div>
                    <div class="kpiUso">
                        <div class="tituloKpi">
                            <h2>Fábrica mais crítica:</h2>
                            <span class="txtKpi">
                                <p class="dadoKpi" id="fabricaCritica" style="color: red;">Fábrica 1</p>
                            </span>
                            <h3 id="quantidadeAlertas">13 Alertas em aberto</h3>
                        </div>
                    </div>
                </div>

                <div class="paginacao" id="paginacao"></div>
                <div class="info-pagina" id="info-pagina"></div>
                <div class="tituloModal">Predição de como estará as fábricas selecionadas dentro de 30 dias:</div>
                <div id="graficoPredicao"></div>
                <div class="fechar">
                    <h1>FECHAR</h1>
                </div>
            </div>

            <div class="containerGraficos">
                <div class="graficos">
                    <div id="graficoAlertaFabricas"></div>

                    <div class="informaçõesFábrica">
                        <div class="titulo"><h1>Informações Fábrica</h1></div>
                        <div class="detalhes">
                            <p id="pNome">Nome:</p>
                            <p id="pGestor">Gestor:</p>
                            <p id="pTelefone">Telefone:</p>
                            <p id="pStatus">Status:</p>
                            <p id="pQtdAlertaAberto">Quantidade de Alertas em aberto:</p>
                            <p id="pQtdAlertaAndamento">Quantidade de Alertas em andamento:</p>
                            <p id="pTempoResolucao">Tempo médio de resolução por alerta(minutos):</p>
                            <p id="pPredicao">Predição para daqui 30 dias:</p> 
                        </div>
                    </div>
                </div>
            </div>

            <div class="areaPredicao">
                <h2>Gostaria de fazer uma predição para ver como estará suas fábricas? <a id="cliqueAqui">Clique aqui</a></h2> 
            </div>
        </div>
    </div>
    
</body>
</html>
<script>
    function expand() {
        if (div_menu.classList.contains('menu-expand')) {
            div_menu.style.animation = 'diminui 0.2s linear'

        } else {
            div_menu.style.animation = 'expandir 0.2s linear'

        }
        div_menu.classList.toggle('menu-expand')
        ul_links.classList.toggle('nav-links-expanded')
    }

    const menu = document.querySelector('.nav-links')
    const burger = document.querySelector('.nav-burger')
    const linha1 = document.querySelector('#linha1')
    const linha2 = document.querySelector('#linha2')
    const linha3 = document.querySelector('#linha3')
    burger.addEventListener('click', () => {

        linha1.classList.toggle('linha1-active')
        linha2.classList.toggle('linha2-active')
        linha3.classList.toggle('linha3-active')
        menu.classList.toggle('nav-active')

    });
</script>
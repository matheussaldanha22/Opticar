<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dashEmpresa</title>
    <link rel="stylesheet" href="./assets/styles/empresa.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="./assets/Scripts/sessao.js" defer></script>
</head>
<body>
    <div id="div_menu" class="menu ">
        <div class="nav-burger" onclick="expand()">
            <div id="linha1"></div>
            <div id="linha2"></div>
            <div id="linha3"></div>
        </div>

        <ul id="ul_links" class="nav-links ">
            
            <li class="li-active">
                <i class='bx bx-desktop' style='color:#ffffff' ></i>
                <span>Monitoramento</span>
            </li>
            <li>
                <i class='bx bxs-bell-ring' style='color:#ffffff' ></i>
                <span>Alertas</span>
            </li>
        </ul>
    </div>

    <div class="container">
        <div class="contain">
            <div class="cabeca">
                <div class="empresa">
                    <i class='bx bxs-business' undefined></i>
                    <div class="lugar">
                        <h3 id="empresaNome">Volkwagen</h3>
                    </div>
                </div>
                <div class="persona">
                    <i class='bx bxs-user-circle'></i>
                    <div>
                        <h3 id="usuarioNome">Luciano Alves</h3>
                        <h3 class="desktop-email" style="display: none;" id="usuarioEmail">luciano@empresa.com</h3>
                    </div>
                    <div>
                        <i class='bx bx-chevron-down'></i>
                    </div>
                </div>
            </div>
        </div>

        <br>

        <div class="dash">
            <div class="tituloDash">
                <h1>Dashboard da sua Empresa</h1>
                <h2>Acompanhe aqui como anda a sua empresa em um panorama geral</h2>
            </div>
            <div class="dashCargo">
                <div class="kpiF">
                    <span class="kpiTitle"> Fábricas: </span>
                    <p class="kpiData" id="codServidor">2</p>
                    <i class='bx bx-cog'></i>
                </div>
                
                <div class="kpiF">
                    <span class="kpiTitle"> Alertas: </span>
                    <p class="kpiData" id="codServidor">13</p>
                    <i class='bx bx-cog'></i>
                </div>

                <div class="kpiS">
                    <span class="kpiTitle"> Servidores: </span>
                    <p class="kpiData" id="codServidor">1</p>
                    <i class='bx bx-cog'></i>
                </div>

                <!-- <div class="kpiFunc">
                    <span class="kpiTitle"> Funcionários: </span>
                    <p class="kpiData" id="codServidor">13</p>
                    <i class='bx bx-cog'></i>
                </div> -->
            </div>
            <div class="containerGrafico">
                
                <div class="chart-container-fabricas">
                    <h2>Selecione uma fábrica: <select onchange="mudarTela()" name="" id="fabrica" style="border-radius: 8px;">
                        <option value="" selected>Selecione umma Fábrica</option>
                        <option value="">Fábrica Sul</option>
                        <option value="">Fábrica Norte</option>
                    </select></h2>
                    <div class="titulo"></div>
                    <h2> <i class='bx bxs-business' style="border: solid 1px white; border-radius: 8px;"></i>ALERTA POR FÁBRICA  <span>Filtrar:</span> <i id="abrir_modal" class='bx bx-filter-alt'></i></h2>
                    <canvas id="fabricaChart"></canvas>
                </div>
                <div class="modal-container-fabrica" id="modal_container">
                    <div class="modal">
                        <h1><i id="modal_fabrica" class='bx bx-filter-alt' style="border: 1px solid black; border-radius: 8px;"></i>Filtrar Data:</h1>
                        <p>escolha o intervalo de datas que deseja filtrar</p>
                        <p>Início:</p>
                        <input type="date">
                        <p>Fim:</p>
                        <input type="date">
                        <button id="fechar_modal">Feche-me</button>
                    </div>
                </div>
            
                <div class="chart-container-componentes">
                    <h2> <i class='bx bx-chip' style="border: solid 1px white; border-radius: 8px;"></i>ALERTA P/COMPONENTE</h2>
                    <canvas id="componenteChart"></canvas>
                </div>

                <!-- <div class="chart-container-cargos">
                    <div class="titulo"> 
                    <h2><i class='bx bx-user' style="border: solid 1px white; border-radius: 8px;"></i>FUNCIONÁRIOS POR CARGO</h2>
                    </div>
                    <div class="grafico">
                        <canvas id="graficoCargos"></canvas>
                    </div>

                    <div class="infoGrafico">
                        <div class="legenda" id="Engenheiro">
                            <div class="texto">
                                <p>Engenheiro de Manutenção:</p>
                            </div>
                            <div id="cor1"></div>
                        </div>
                        <div class="legenda" id="analista">
                            <div class="texto">
                                <p>Analista de Sistema:</p>
                            </div>
                            <div id="cor2"></div>
                        </div>
                        <div class="legenda" id="gerente">
                            <div class="texto">
                                <p>Gerente de Fábricas:</p>
                            </div>
                            <div id="cor3"></div>
                        </div>
                    </div>
                </div> -->
            </div>
        </div>

            
        
    </div>
</div>
<script src="./assets/Scripts/cargos.js" defer></script>
<script src="./assets/Scripts/alertasFabricas.js" defer></script>
<script src="./assets/Scripts/componentesExigidos.js" defer></script>
</body>
</html>
<script>
const menu = document.querySelector('.nav-links');
const burger= document.querySelector('.nav-burger');
const linha1 = document.querySelector('#linha1');
const linha2 = document.querySelector('#linha2');
const linha3 = document.querySelector('#linha3');
burger.addEventListener('click' ,()=>
{

linha1.classList.toggle('linha1-active');
linha2.classList.toggle('linha2-active');
linha3.classList.toggle('linha3-active');
menu.classList.toggle('nav-active');
});

const abrir_modal = document.getElementById('abrir_modal');
const modal_container = document.getElementById('modal_container');
const fechar_modal = document.getElementById('fechar_modal');

abrir_modal.addEventListener('click', () => {
    modal_container.classList.add('mostrar');
})

fechar_modal.addEventListener('click', () => {
    modal_container.classList.remove('mostrar');
})


function expand(){
    if(div_menu.classList.contains('menu-expand')){
        div_menu.style.animation = 'diminui 0.2s linear';

    }else{
        div_menu.style.animation = 'expandir 0.2s linear';

    }
    div_menu.classList.toggle('menu-expand')
    ul_links.classList.toggle('nav-links-expanded')
}

function mudarTela() {
    var select = fabrica.value;
    window.location.href = "./dashGestaofabrica.html";

}
</script>